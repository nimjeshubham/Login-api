# Production Configuration
logging.level.com.possessor.loginapi=WARN
logging.level.org.springframework.security=ERROR
logging.level.org.springframework.web=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%X{correlationId}] %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%X{correlationId}] %logger{36} - %msg%n

# Database Production Settings
spring.r2dbc.pool.initial-size=20
spring.r2dbc.pool.max-size=50
spring.r2dbc.pool.max-idle-time=10m
spring.r2dbc.pool.validation-query=SELECT 1
spring.r2dbc.pool.max-acquire-time=60s
spring.r2dbc.pool.max-life-time=30m

# Security Production Settings
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.max-http-header-size=8KB
server.netty.connection-timeout=20s
server.netty.idle-timeout=60s

# CORS Production Settings
app.cors.allowed-origins=${CORS_ORIGINS:https://yourdomain.com}
app.cors.max-age=3600

# Actuator Production Settings
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.endpoint.info.enabled=true
management.health.circuitbreakers.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Cache Production Settings
spring.cache.caffeine.spec=maximumSize=10000,expireAfterWrite=30m

# Redis Configuration
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:}
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=20
spring.redis.lettuce.pool.max-idle=10
spring.redis.lettuce.pool.min-idle=5

# Rate Limiting Production
app.rate-limit.requests-per-minute=100
app.rate-limit.login-requests=5
app.rate-limit.register-requests=3
app.rate-limit.enabled=true

# Resilience4j Production
resilience4j.circuitbreaker.instances.auth-service.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.auth-service.wait-duration-in-open-state=30s
resilience4j.circuitbreaker.instances.auth-service.sliding-window-size=10
resilience4j.retry.instances.auth-service.max-attempts=3
resilience4j.retry.instances.auth-service.wait-duration=500ms